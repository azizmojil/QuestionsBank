{% load static i18n %}
<!DOCTYPE html>
{% get_current_language as LANGUAGE_CODE %}
{% get_current_language_bidi as LANGUAGE_BIDI %}
<html lang="{{ LANGUAGE_CODE }}" dir="{% if LANGUAGE_BIDI %}rtl{% else %}ltr{% endif %}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% trans "Ù…Ù†ØµØ© QnR" %}{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <header class="site-header">
        <div class="brand">
            <a href="{% url 'home' %}" class="logo">{% trans "Ù…Ù†ØµØ© QnR" %}</a>
            <p class="tagline">{% trans "ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø°Ø§ØªÙŠØ© Ø¬Ù…ÙŠÙ„Ø© ÙˆØ³Ù‡Ù„Ø© Ø§Ù„ÙˆØµÙˆÙ„" %}</p>
        </div>
        <nav aria-label="Primary navigation">
            <ul>
                <li><a href="{% url 'survey_list' %}">{% trans "Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø°Ø§ØªÙŠ" %}</a></li>
                <li><a href="{% url 'survey_builder' %}">{% trans "Ù…Ù†Ø´Ø¦ Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†" %}</a></li>
            </ul>
        </nav>
        <div class="header-actions">
            <a href="#" class="auth-link">{% trans "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„" %}</a>
            <form id="language-switch-form" action="{% url 'set_language' %}" method="post" class="language-switch-form">
                {% csrf_token %}
                <input type="hidden" name="next" value="{{ request.get_full_path }}">
                <input type="hidden" name="language" value="{% if LANGUAGE_CODE == 'ar' %}en{% else %}ar{% endif %}">
                <button class="language-switch" id="language-switch" type="submit"
                        aria-pressed="false"
                        data-current-language="{{ LANGUAGE_CODE }}"
                        data-switch-to-en="{% trans 'Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©' %}"
                        data-switch-to-ar="{% trans 'Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' %}"
                        data-label-ar="{% trans 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' %}"
                        data-label-en="{% trans 'English' %}">
                    <span class="language-icon" aria-hidden="true">ğŸŒ</span>
                    <span class="language-label">{% if LANGUAGE_CODE == 'ar' %}{% trans "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©" %}{% else %}{% trans "English" %}{% endif %}</span>
                </button>
            </form>
            <button class="theme-switch" id="theme-switch" type="button" aria-pressed="false"
                    data-label-dark="{% trans 'Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†' %}"
                    data-label-light="{% trans 'Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­' %}"
                    data-icon-sun="â˜€ï¸"
                    data-icon-moon="ğŸŒ™">
                <span class="theme-icon" aria-hidden="true">â˜€ï¸</span>
                <span class="theme-label">{% trans "Ø§Ù„Ø³Ù…Ø©" %}</span>
                <div class="theme-switch-toggle" aria-hidden="true"></div>
            </button>
        </div>
    </header>
    <main id="main-content" class="page-content" role="main">
        {% block content %}
        {% endblock %}
    </main>
    <footer class="site-footer">
        <p>{% trans "ØµÙ…Ù… Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø´Ø§Ù…Ù„Ø© Ù…Ø¹ Ø¹Ù†Ø§ÙŠØ© Ø¨Ù‚Ø§Ø¨Ù„ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„." %}</p>
    </footer>
    <script src="{% static 'js/base.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
